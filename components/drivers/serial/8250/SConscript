from building import *

group   = []

if not GetDepend(['RT_SERIAL_8250']):
    Return('group')

cwd     = GetCurrentDir()
CPPPATH = [cwd + '/../../include']

src     = ['core.c', 'early.c']

if GetDepend(['RT_SERIAL_8250_BCM2835AUX']):
    src += ['8250-bcm2835aux.c']

if GetDepend(['RT_SERIAL_8250_BCM7271']):
    src += ['8250-bcm7271.c']

if GetDepend(['RT_SERIAL_8250_DW']):
    src += ['8250-dw.c']

if GetDepend(['RT_SERIAL_8250_OFW']):
    src += ['8250-ofw.c']

if GetDepend(['RT_SERIAL_8250_PCI']):
    src += ['8250-pci.c']

group = DefineGroup('DeviceDrivers', src, depend = [''], CPPPATH = CPPPATH)
Return('group')
